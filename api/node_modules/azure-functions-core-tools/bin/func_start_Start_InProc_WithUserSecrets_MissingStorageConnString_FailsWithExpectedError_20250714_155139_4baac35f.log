=== Test started at 7/14/2025 3:51:39 PM ===
Test Name: Start_InProc_WithUserSecrets_MissingStorageConnString_FailsWithExpectedError
Command: func start --functions http1 --port 49733
Working Directory: C:\Users\cloudtest\AppData\Local\Temp\teljzk2t.bqs
====================================
[STDOUT]   Determining projects to restore...
[STDOUT]   All projects are up-to-date for restore.
[STDOUT]   teljzk2t_bqs -> C:\Users\cloudtest\AppData\Local\Temp\teljzk2t.bqs\bin\output\teljzk2t_bqs.dll
[STDOUT] C:\Users\cloudtest\.nuget\packages\microsoft.net.sdk.functions\4.6.0\build\Microsoft.NET.Sdk.Functions.Build.targets(32,5): warning : Function [queue1]: Missing value for AzureWebJobsStorage in local.settings.json. This is required for all triggers other than httptrigger, kafkatrigger, orchestrationTrigger, activityTrigger, entityTrigger. [C:\Users\cloudtest\AppData\Local\Temp\teljzk2t.bqs\teljzk2t_bqs.csproj]
[STDOUT] C:\Users\cloudtest\.nuget\packages\microsoft.net.sdk.functions\4.6.0\build\Microsoft.NET.Sdk.Functions.Build.targets(32,5): warning : Function [queue1]: cannot find value named 'ConnectionStrings:MyQueueConn' in local.settings.json that matches 'connection' property set on 'queueTrigger' [C:\Users\cloudtest\AppData\Local\Temp\teljzk2t.bqs\teljzk2t_bqs.csproj]
[STDOUT] C:\Users\cloudtest\.nuget\packages\microsoft.net.sdk.functions\4.6.0\build\Microsoft.NET.Sdk.Functions.Build.targets(32,5): warning :  [C:\Users\cloudtest\AppData\Local\Temp\teljzk2t.bqs\teljzk2t_bqs.csproj]
[STDOUT] 
[STDOUT] Build succeeded.
[STDOUT] 
[STDOUT] C:\Users\cloudtest\.nuget\packages\microsoft.net.sdk.functions\4.6.0\build\Microsoft.NET.Sdk.Functions.Build.targets(32,5): warning : Function [queue1]: Missing value for AzureWebJobsStorage in local.settings.json. This is required for all triggers other than httptrigger, kafkatrigger, orchestrationTrigger, activityTrigger, entityTrigger. [C:\Users\cloudtest\AppData\Local\Temp\teljzk2t.bqs\teljzk2t_bqs.csproj]
[STDOUT] C:\Users\cloudtest\.nuget\packages\microsoft.net.sdk.functions\4.6.0\build\Microsoft.NET.Sdk.Functions.Build.targets(32,5): warning : Function [queue1]: cannot find value named 'ConnectionStrings:MyQueueConn' in local.settings.json that matches 'connection' property set on 'queueTrigger' [C:\Users\cloudtest\AppData\Local\Temp\teljzk2t.bqs\teljzk2t_bqs.csproj]
[STDOUT] C:\Users\cloudtest\.nuget\packages\microsoft.net.sdk.functions\4.6.0\build\Microsoft.NET.Sdk.Functions.Build.targets(32,5): warning :  [C:\Users\cloudtest\AppData\Local\Temp\teljzk2t.bqs\teljzk2t_bqs.csproj]
[STDOUT]     1 Warning(s)
[STDOUT]     0 Error(s)
[STDOUT] 
[STDOUT] Time Elapsed 00:00:02.52
[STDOUT] 
[STDOUT] Workload updates are available. Run `dotnet workload list` for more information.
[STDOUT] 
[STDERR] 
[STDOUT] .NET 6 is no longer supported. Please consider migrating to a supported version. For more information, see https://aka.ms/azure-functions/dotnet/net8-in-process. If you intend to target .NET 8 on the in-process model, make sure that 'FUNCTIONS_INPROC_NET8_ENABLED' is set to '1' in local.settings.json.
[STDOUT] 
[STDOUT] Azure Functions Core Tools
[STDOUT] Core Tools Version:       4.1.0+9a53409b640bbb39ef49467f000f46c5d81d4bbf (64-bit)
[STDOUT] Function Runtime Version: 4.40.100.25262
[STDOUT] [2025-07-14T15:51:44.057Z] Found C:\Users\cloudtest\AppData\Local\Temp\teljzk2t.bqs\teljzk2t_bqs.csproj. Using for user secrets file configuration.
[STDOUT] [2025-07-14T15:51:45.089Z] A host error has occurred during startup operation 'a56f923a-42e8-4bce-9633-3bee080e91fa'.
[STDOUT] [2025-07-14T15:51:45.089Z] Microsoft.Azure.WebJobs.Script.WebHost: Secret initialization from Blob storage failed due to missing both an Azure Storage connection string and a SAS connection uri. For Blob Storage, please provide at least one of these. If you intend to use files for secrets, add an App Setting key 'AzureWebJobsSecretStorageType' with value 'Files'.
[STDOUT] Value cannot be null. (Parameter 'provider')
[STDOUT] [2025-07-14T15:51:45.110Z] Host startup operation has been canceled
====================================
Command exited with code: 0
=== Test ended at 7/14/2025 3:51:45 PM ===
